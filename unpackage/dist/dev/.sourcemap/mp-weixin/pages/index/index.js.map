{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- 绑定抖音账号区域 -->\r\n    <view class=\"bind-douyin\">\r\n      <view class=\"bind-info\">\r\n        <image\r\n          class=\"douyin-icon\"\r\n          src=\"/static/dy.svg\"\r\n          mode=\"aspectFit\"\r\n        ></image>\r\n        <view>\r\n          <view class=\"bind-title\">绑定抖音账号</view>\r\n          <view class=\"bind-desc\">获得更精准的脚本生成</view>\r\n        </view>\r\n      </view>\r\n      <button\r\n        class=\"bind-btn\"\r\n        @click=\"goTo\"\r\n      >立即绑定</button>\r\n    </view>\r\n\r\n    <!-- 商品链接输入区域 -->\r\n    <view class=\"card\">\r\n      <view class=\"label\">商品链接</view>\r\n      <view class=\"input-row\">\r\n        <input\r\n          class=\"input\"\r\n          placeholder=\"粘贴商品链接，一键生成爆款脚本\"\r\n          v-model=\"productLink\"\r\n        />\r\n        <image\r\n          class=\"link-icon\"\r\n          src=\"/static/link.svg\"\r\n          mode=\"aspectFit\"\r\n        ></image>\r\n      </view>\r\n      <button\r\n        class=\"gen-btn\"\r\n        @click=\"generateScript\"\r\n      >生成爆款脚本</button>\r\n    </view>\r\n  </view>\r\n  <!-- AI分析生成脚本弹框 -->\r\n  <view\r\n    v-if=\"showDialog\"\r\n    class=\"ai-dialog-mask\"\r\n  >\r\n    <view class=\"ai-dialog\">\r\n      <view class=\"ai-title\">AI 正在分析并生成脚本...</view>\r\n      <view class=\"ai-steps\">\r\n        <view\r\n          v-for=\"(step, idx) in steps\"\r\n          :key=\"idx\"\r\n          class=\"ai-step\"\r\n        >\r\n          <text\r\n            v-if=\"idx < currentStep\"\r\n            class=\"ai-step-icon done\"\r\n          >✔</text>\r\n          <text\r\n            v-else-if=\"idx === currentStep\"\r\n            class=\"ai-step-icon doing\"\r\n          >⟳</text>\r\n          <text\r\n            v-else\r\n            class=\"ai-step-icon\"\r\n          >○</text>\r\n          <text class=\"ai-step-text\">{{ step }}</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"ai-tip\">请稍候，正在为您生成专业的短视频脚本...</view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      productLink: '',\r\n      showDialog: false,\r\n      steps: [\r\n        '正在分析商品链接...',\r\n        '成功获取商品信息',\r\n        '正在分析商品类别和特性...',\r\n        '识别为高端滋补品类，目标受众为25-45岁女性',\r\n        '正在分析商品卖点和价值主张...',\r\n        '提取核心卖点：天然燕窝、独特工艺、营养价值',\r\n        '正在匹配最佳脚本模板...',\r\n        '选择「真人出镜+种草口播」模板',\r\n        '正在优化脚本内容...',\r\n        '完成14个分镜头的文案撰写'\r\n      ],\r\n      currentStep: 0,\r\n      stepTimer: null\r\n    }\r\n  },\r\n  methods: {\r\n    goTo () {\r\n      uni.navigateTo({\r\n        url: '/package/pages/bindAccount/index'\r\n      })\r\n    },\r\n    generateScript () {\r\n      if (!this.productLink) {\r\n        uni.showToast({ title: '请粘贴商品链接', icon: 'none' });\r\n        return;\r\n      }\r\n      // 显示弹框并重置进度\r\n      this.showDialog = true;\r\n      this.currentStep = 0;\r\n      this.nextStep();\r\n    },\r\n    nextStep () {\r\n      if (this.currentStep < this.steps.length) {\r\n        this.stepTimer = setTimeout(() => {\r\n          this.currentStep++;\r\n          this.nextStep();\r\n        }, 700); // 每步0.7秒\r\n      } else {\r\n        // 全部完成后1.2秒关闭弹框\r\n        setTimeout(() => {\r\n          this.showDialog = false;\r\n        }, 1200);\r\n      }\r\n    }\r\n  },\r\n  onShow () {\r\n    const curPages = getCurrentPages()[0];\r\n    if (typeof curPages.getTabBar === 'function' && curPages.getTabBar()) {\r\n      curPages.getTabBar().setData({\r\n        selected: 0\r\n      });\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    if (this.stepTimer) clearTimeout(this.stepTimer);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  padding: 32rpx;\r\n  background: #f7f8fa;\r\n  min-height: 100vh;\r\n\r\n  .bind-douyin {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    background: #f5f7ff;\r\n    border-radius: 20rpx;\r\n    padding: 32rpx;\r\n    margin-bottom: 40rpx;\r\n\r\n    .bind-info {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .douyin-icon {\r\n        width: 56rpx;\r\n        height: 56rpx;\r\n        margin-right: 20rpx;\r\n      }\r\n      .bind-title {\r\n        font-size: 32rpx;\r\n        font-weight: bold;\r\n        color: #222;\r\n      }\r\n      .bind-desc {\r\n        font-size: 24rpx;\r\n        color: #888;\r\n      }\r\n    }\r\n    .bind-btn {\r\n      background: #3478f6;\r\n      color: #fff;\r\n      border-radius: 12rpx;\r\n      font-size: 28rpx;\r\n      padding: 0 36rpx;\r\n      height: 64rpx;\r\n      line-height: 64rpx;\r\n      margin: 0;\r\n    }\r\n  }\r\n\r\n  .card {\r\n    background: #fff;\r\n    border-radius: 20rpx;\r\n    padding: 32rpx;\r\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.03);\r\n\r\n    .label {\r\n      font-size: 28rpx;\r\n      font-weight: bold;\r\n      margin-bottom: 20rpx;\r\n    }\r\n    .input-row {\r\n      display: flex;\r\n      align-items: center;\r\n      background: #f5f6fa;\r\n      border-radius: 12rpx;\r\n      padding: 0 20rpx;\r\n      margin-bottom: 32rpx;\r\n\r\n      .input {\r\n        flex: 1;\r\n        height: 80rpx;\r\n        border: none;\r\n        background: transparent;\r\n        font-size: 28rpx;\r\n      }\r\n      .link-icon {\r\n        width: 36rpx;\r\n        height: 36rpx;\r\n        margin-left: 10rpx;\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n    .gen-btn {\r\n      width: 100%;\r\n      background: #3478f6;\r\n      color: #fff;\r\n      border-radius: 12rpx;\r\n      font-size: 32rpx;\r\n      height: 80rpx;\r\n      line-height: 80rpx;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n.ai-dialog-mask {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.25);\r\n  z-index: 9999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.ai-dialog {\r\n  width: 600rpx;\r\n  background: #fff;\r\n  border-radius: 24rpx;\r\n  padding: 48rpx 36rpx 36rpx 36rpx;\r\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.08);\r\n}\r\n.ai-title {\r\n  font-size: 34rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 32rpx;\r\n  text-align: center;\r\n}\r\n.ai-steps {\r\n  margin-bottom: 24rpx;\r\n}\r\n.ai-step {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 12rpx;\r\n}\r\n.ai-step-icon {\r\n  width: 36rpx;\r\n  display: inline-block;\r\n  text-align: center;\r\n  font-size: 28rpx;\r\n  margin-right: 16rpx;\r\n  color: #bbb;\r\n}\r\n.ai-step-icon.done {\r\n  color: #4caf50;\r\n}\r\n.ai-step-icon.doing {\r\n  color: #3478f6;\r\n  animation: ai-spin 1s linear infinite;\r\n}\r\n@keyframes ai-spin {\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.ai-step-text {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n}\r\n.ai-tip {\r\n  font-size: 24rpx;\r\n  color: #888;\r\n  text-align: center;\r\n  margin-top: 18rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/peter/Desktop/ai/ai-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AA4EA,MAAK,YAAU;AAAA,EACb,OAAQ;AACN,WAAO;AAAA,MACL,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,OAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,MACD,aAAa;AAAA,MACb,WAAW;AAAA,IACb;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,OAAQ;AACNA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IACD,iBAAkB;AAChB,UAAI,CAAC,KAAK,aAAa;AACrBA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,OAAK,CAAG;AAChD;AAAA,MACF;AAEA,WAAK,aAAa;AAClB,WAAK,cAAc;AACnB,WAAK,SAAQ;AAAA,IACd;AAAA,IACD,WAAY;AACV,UAAI,KAAK,cAAc,KAAK,MAAM,QAAQ;AACxC,aAAK,YAAY,WAAW,MAAM;AAChC,eAAK;AACL,eAAK,SAAQ;AAAA,QACd,GAAE,GAAG;AAAA,aACD;AAEL,mBAAW,MAAM;AACf,eAAK,aAAa;AAAA,QACnB,GAAE,IAAI;AAAA,MACT;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAU;AACR,UAAM,WAAW,kBAAkB,CAAC;AACpC,QAAI,OAAO,SAAS,cAAc,cAAc,SAAS,UAAS,GAAI;AACpE,eAAS,UAAW,EAAC,QAAQ;AAAA,QAC3B,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACD;AAAA,EACD,gBAAiB;AACf,QAAI,KAAK;AAAW,mBAAa,KAAK,SAAS;AAAA,EACjD;AACF;;;;;;;;;;;;;;;;;;;;;;;ACzIA,GAAG,WAAW,eAAe;"}