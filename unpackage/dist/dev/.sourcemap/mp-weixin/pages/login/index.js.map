{"version":3,"file":"index.js","sources":["pages/login/index.vue","pages/login/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"content\">\n    <view class=\"head\">\n      <image\n        class=\"logo\"\n        src=\"/static/logo.jpg\"\n      ></image>\n    </view>\n    <view>\n      <view class=\"login-btn\">\n        <button\n          class=\"btn\"\n          :disabled=\"!checkboxValue\"\n          type=\"default\"\n          open-type=\"getPhoneNumber\"\n          @getphonenumber=\"decryptPhoneNumber\"\n        >一键登录</button>\n      </view>\n      <view class=\"foot\">\n        <view class=\"check\">\n          <checkbox-group @change=\"checkboxValue = !checkboxValue\">\n            <checkbox\n              :value=\"checkboxValue\"\n              color=\"#FD1414\"\n              style=\"transform:scale(0.5)\"\n            />\n          </checkbox-group>\n        </view>\n        <view class=\"text\">\n          已阅读并同意<text>《用户服务协议》</text>及<text>《隐私权政策》</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      checkboxValue: false,\n      id: ''\n    }\n  },\n  onLoad (data) {\n    if (data && data.id) {\n      this.id = data.id\n      console.log(data.id)\n    }\n    const res = uni.getStorageSync('userInfo')\n    if (res) {\n      uni.switchTab({\n        url: '/pages/home/home'\n      })\n    }\n  },\n  methods: {\n    decryptPhoneNumber (e) {\n      if (!e.detail.code) return\n      const that = this\n      uni.getUserInfo({\n        success: function (res) {\n          uni.login({\n            provider: \"weixin\",\n            success (v) {\n\n              if (v.code) {\n                //发起网络请求\n                // request({\n                //   url: `/api/user`,\n                //   method: 'post',\n                //   data: {\n                //     loginCode: v.code,\n                //     phoneCode: e.detail.code,\n                //     logo: res.userInfo.avatarUrl,\n                //     from: that.id\n                //   },\n                // }).then(res => {\n                //   uni.setStorageSync('userInfo', JSON.stringify(res.data))\n                //   uni.switchTab({ url: '/pages/home/home' })\n                // })\n              } else {\n                console.log('登录失败！' + res.errMsg)\n              }\n            }\n          })\n        }\n      })\n    },\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 50rpx 50rpx 70rpx;\n  height: 100vh;\n  box-sizing: border-box;\n}\n\n.logo {\n  height: 250rpx;\n  width: 250rpx;\n  margin-top: 200rpx;\n}\n.head {\n  display: flex;\n  align-items: flex-end;\n  gap: 34rpx;\n  padding: 0 25rpx;\n  justify-content: center;\n}\n.login-btn {\n  height: 98rpx;\n  background: #3478f6;\n  border-radius: 49px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.btn {\n  font-family: PingFang SC;\n  font-weight: 500;\n  font-size: 30rpx;\n  color: #ffffff;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.foot {\n  display: flex;\n  align-items: center;\n  margin-top: 30rpx;\n}\n.text {\n  font-family: PingFang SC;\n  font-weight: 400;\n  font-size: 24rpx;\n  color: #a7a7a7;\n  line-height: 63rpx;\n}\n.text text {\n  color: #3478f6;\n}\nbutton::after {\n  border-style: none;\n}\nbutton[disabled] {\n  border: none;\n  background-color: #d2d2d2;\n  color: #777777;\n  border-radius: 49px;\n  outline: none;\n}\n</style>\n","import MiniProgramPage from '/Users/peter/Desktop/ai/ai-uniapp/pages/login/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAqCA,MAAK,YAAU;AAAA,EACb,OAAQ;AACN,WAAO;AAAA,MACL,eAAe;AAAA,MACf,IAAI;AAAA,IACN;AAAA,EACD;AAAA,EACD,OAAQ,MAAM;AACZ,QAAI,QAAQ,KAAK,IAAI;AACnB,WAAK,KAAK,KAAK;AACfA,oBAAAA,MAAA,MAAA,OAAA,+BAAY,KAAK,EAAE;AAAA,IACrB;AACA,UAAM,MAAMA,cAAAA,MAAI,eAAe,UAAU;AACzC,QAAI,KAAK;AACPA,oBAAAA,MAAI,UAAU;AAAA,QACZ,KAAK;AAAA,OACN;AAAA,IACH;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,mBAAoB,GAAG;AACrB,UAAI,CAAC,EAAE,OAAO;AAAM;AAEpBA,oBAAAA,MAAI,YAAY;AAAA,QACd,SAAS,SAAU,KAAK;AACtBA,wBAAAA,MAAI,MAAM;AAAA,YACR,UAAU;AAAA,YACV,QAAS,GAAG;AAEV,kBAAI,EAAE;AAAM;AAAA,mBAeL;AACLA,gFAAY,UAAU,IAAI,MAAM;AAAA,cAClC;AAAA,YACF;AAAA,WACD;AAAA,QACH;AAAA,OACD;AAAA,IACF;AAAA,EACH;AACF;;;;;;;;;;;ACzFA,GAAG,WAAW,eAAe;"}